/* index.css - 반응형 + 모바일 Q&A 접기/펼치기 + 드래그 리사이즈 */

:root{
   --bg: #0b0b0b;
   --panel: #0c0c0e;
   --line: rgba(255,255,255,0.06);
   --text: rgba(255,255,255,0.92);
 }
 
 *{ box-sizing: border-box; }
 html, body { height: 100%; }
 body{
   margin: 0;
   background: var(--bg);
   color: var(--text);
   font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans KR", "Apple SD Gothic Neo", "Malgun Gothic", sans-serif;
 }
 
 .hidden { display: none !important; }
 
 /* =========================
    Desktop 기본: 2열 레이아웃
    ========================= */
 .app{
   height: 100vh;
   display: grid;
   grid-template-columns: 1.25fr 0.75fr; /* 영상:QA 비율 */
 }
 
 .left{
   position: relative;
   background: var(--bg);
   overflow: hidden;
 }
 
 .right{
   border-left: 1px solid var(--line);
   background: var(--panel);
   min-width: 320px;
   min-height: 0;
 }
 
 .panel{
   height: 100%;
   display: flex;
   flex-direction: column;
   min-height: 0;
 }
 
 .toolbar{
   position: absolute;
   left: 10px;
   right: 10px;
   top: 10px;
   z-index: 20;
   display: flex;
   gap: 8px;
   align-items: center;
   padding: 10px;
   border-radius: 12px;
   background: rgba(0,0,0,0.35);
   border: 1px solid rgba(255,255,255,0.08);
   backdrop-filter: blur(6px);
 }
 
 .toolbar input{
   flex: 1;
   min-width: 0;
   padding: 10px 12px;
   border-radius: 10px;
   border: 1px solid rgba(255,255,255,0.12);
   background: rgba(255,255,255,0.06);
   color: var(--text);
   outline: none;
 }
 
 .toolbar button{
   padding: 10px 12px;
   border-radius: 10px;
   border: 0;
   background: #4f46e5;
   color: #fff;
   font-weight: 800;
   cursor: pointer;
 }
 
 /* 모바일에서만 보이는 Q&A 토글 버튼 */
 #qaToggle{
   display: none;
   background: rgba(255,255,255,0.08);
   border: 1px solid rgba(255,255,255,0.14);
   color: rgba(255,255,255,0.92);
 }
 
 .videoWrap{
   position: absolute;
   inset: 0;
   display: grid;
   place-items: center;
 }
 
 .videoBox{
   width: min(1200px, 96%);
   aspect-ratio: 16/9;
   border-radius: 14px;
   overflow: hidden;
   background: #000;
 }
 
 .videoBox iframe,
 .videoBox video{
   width: 100%;
   height: 100%;
   display: block;
 }
 
 .placeholder{
   position: absolute;
   inset: 0;
   display: grid;
   place-items: center;
   color: rgba(255,255,255,0.65);
   font-weight: 700;
 }
 
 iframe.qa{
   width: 100%;
   height: 100%;
   border: 0;
   display: block;
 }
 
 /* =========================
    ✅ Mobile/좁은 폭: 1열 스택
    - 위: 영상
    - 아래: Q&A
    - Q&A 높이: --qaHeight 로 제어 (드래그 리사이즈)
    ========================= */
 @media (max-width: 980px){
   .app{
     grid-template-columns: 1fr;
     /* 기본값은 45vh, JS가 px로 덮어쓸 수 있음 */
     grid-template-rows: calc(100vh - var(--qaHeight, 45vh)) var(--qaHeight, 45vh);
   }
 
   .right{
     border-left: 0;
     border-top: 1px solid var(--line);
     min-width: 0;
   }
 
   .videoBox{
     width: 96%;
     border-radius: 12px;
   }
 
   .toolbar{
     left: 8px;
     right: 8px;
     top: 8px;
     padding: 8px;
   }
 
   .toolbar input{
     padding: 9px 10px;
     font-size: 14px;
   }
 
   .toolbar button{
     padding: 9px 10px;
     font-size: 14px;
   }
 
   /* 모바일에서 토글 버튼 활성화 */
   #qaToggle{ display: inline-flex; align-items:center; gap:6px; }
 }
 
 /* 더 작은 화면: Q&A 비중을 조금 더 */
 @media (max-width: 520px){
   .app{
     grid-template-rows: calc(100vh - var(--qaHeight, 50vh)) var(--qaHeight, 50vh);
   }
 }
 
 /* =========================
    ✅ Q&A 접기(모바일)
    ========================= */
 @media (max-width: 980px){
   body.qa-collapsed .app{
     grid-template-rows: 100vh 0px;
   }
   body.qa-collapsed .right{
     display: none;
   }
 }
 
 /* =========================
    ✅ Q&A 리사이즈 핸들(모바일)
    ========================= */
 .qa-resize-handle{
   display: none;
 }
 
 @media (max-width: 980px){
   .qa-resize-handle{
     display: block;
     height: 18px;
     cursor: ns-resize;
     user-select: none;
     touch-action: none;
     background: rgba(255,255,255,0.02);
     border-bottom: 1px solid rgba(255,255,255,0.06);
     position: relative;
   }
   .qa-resize-handle::before{
     content: "";
     position: absolute;
     left: 50%;
     top: 6px;
     transform: translateX(-50%);
     width: 46px;
     height: 5px;
     border-radius: 999px;
     background: rgba(255,255,255,0.22);
   }
   .qa-resize-handle:active::before{
     background: rgba(255,255,255,0.35);
   }
 }
 